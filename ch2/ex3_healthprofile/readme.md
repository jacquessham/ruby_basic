# Exercise 3: Health Profiles

The goal of this exercise is to practice on defining classes, read and save files on Ruby. We will be simulate a health provider to calculate the simple health metrics for list of patients. This exercise is inspired from the homework Lab 2 of CS 112 from the University of San Francisco.

## Requirements
<ol>
	<li>Define a class for patient profile</li>
	<li>Read patients info from a CSV file</li>
	<li>Store all profile in an array and Print on Console</li>
	<li>Return patients statistics and save into a csv file</li>
</ol>

### Define a class for patient profile
Define a class called <b>HealthProfile</b> to take the information listed below of an individual patient:
<ul>
	<li>First name</li>
	<li>Last name</li>
	<li>Age</li>
	<li>Gender</li>
	<li>Height in inches</li>
	<li>Weight in pounds</li>
</ul>
<br>
Once the attributes are initialized, define the below methods:
<ul>
	<li>computeTargetHeartRateRange</li>
	<li>computeBMI</li>
	<li>toString</li>
</ul>

#### computeTargetHeartRateRange
This function calculates the range of target heart rate, return the range in string with "<i>minimum heart rate</i> - <i>maximum heart rate</i>". Target heart rate is bewteen 50-85% of the maximum heart rate, which is <i>220 - (age)</i>.

#### computeBMI
This function return a body mass index, by this formula: <i>Weight (lbs) x 703 / (Height (inches) x Height (inches))</i>

#### toString
Build a string with a summary of the patient with all instances and results calculated.

### Read patients info from a CSV file
Obtain all patients information from a csv file <i>(Coming Soon...)</i>, declare a <b>HealthProfile</b> for each patient.

### Store all profile in an array and Print on Console
After declaring <b>HealthProfile</b> objects for each patient, save in an array. Once it is done, call the <b>toString</b> function for each object to print the profile summary on the console.

### Return patients statistics and save into a csv file
At last, save the below information for each patient in a CSV file, name it <i>(Coming Soon...)</i>.
<ul>
	<li>First name</li>
	<li>Last name</li>
	<li>Maximum heart rate</li>
	<li>Target Heart Rate Range</li>
	<li>BMI</li>
</ul>

## Files
Following files are available in this folder:
<ul>
	<li>healthprofile.rb: Driver script</li>
	<li>sample_patients.csv: CSV file with sample patient data</li>
	<li>sample_patients_profiles.csv: CSV file with the result generated in healthprofile.rb from patient data</li>
</ul>
<br>
The columns in <i>sample_patients.csv</i> have the same names of the class parameters, simply map the columns to the parameters when declaring the HealthProfile object. The columns in <i>sample_patients_profiles.csv</i> are fname, lname, mhr, thrr, bmi, which represents first name, last name, maximum heart rate, target heart rate range, and BMI of the patients.
<br>
The driver script requires to use the CSV gem to read and save the csv files.

## How the Program Works
In the main method of the script it will first read <i>sample_patients.csv</i> (Okay to have a different csv file but in the same column setting), and create a health profile for each patient (Each row represent a patient) and save it in an array. Once all profiles are initialized, the program will enter a loop to display the profile of each patient on the console; the message is generated by calling <i>toString</i> from each profile. At last, the program will save the result in <i>sample_patients_profiles.csv</i>.

## Class
HealthProfile is the only class in the script with the following instances:
<ul>
	<li>fname: First name of the patient</li>
	<li>lname: Last name of the patient</li>
	<li>age: Age of the patient</li>
	<li>gender: Gender of the patient, in M for male and F for female</li>
	<li>height: Height of the patient in inches</li>
	<li>weight: Weight of the patient in pounds</li>
</ul>
<br>
The data should be prepared accurated prior to loading data from a CSV file. Note that the facts data should be prepared in the right unit because the formula in the methods in this class is not able to catch the unit error. 
<br>
When the class is initialized, the instances will be built with the data provided from parameters. It will also call the methods <i>computeTargetHeartRateRange</i> and <i>computeBMI</i> immediately to obtain the result and save as instances.
<br><br>
There are 3 methods in this class <i>computeTargetHeartRateRange</i>, <i>computeBMI</i>, and <i>toString</i>. <i>computeTargetHeartRateRange</i> calculates the maximum heart rate and the target heart rate range with the formula stated in the previous section and stored as instance in float and string, respectively. <i>computeBMI</i> computes the BMI of this patient and stored as instance in float. <i>toString</i> create a formatted string to display the patient profile on the console. 


